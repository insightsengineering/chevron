---
title: "Chevron Catalog Version x.x.x"
date: "`r format(Sys.time(), '%B %d, %Y')`"
output: 
  html_document:
    toc: true
    toc_depth: 3
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

### **Demographics and Baseline Characteristics (DMT01)**
#### [Link](https://pages.github.roche.com/MDIS/stream_doc/2_12/um/report_outputs_dmt01.html) to STREAM v2.12 User manual of DMT01  
#### *List of Examples:*
##### 1. Demographics and Baseline Characteristics with All Patients
##### 2. Demographics and Baseline Characteristics without All Patients
##### 3. Demographics and Baseline Characteristics with an additional study specific continuous variable
##### 4. Demographics and Baseline Characteristics with an additional study specific categorical variable
##### 5. Demographics and Baseline Characteristics with additional vital signs baseline values from ADVS or ADSUB

#### **1. Demographics and Baseline Characteristics with All Patients**
NOTE:   
1) The value for *adam_db* must be provided.  
2) This template *dmt01* include the column of total by default.  
3) Default analysis items in *dmt01* include Age [ADSL.AGE], Age Group [ADSL.AGEGR1], Sex [ADSL.SEX], Ethnicity [ADSL.ETHINIC], and Race [ADSL.RACE]. 
```{r eval=FALSE}
run(dmt01,adam_db=syn_data)
```
```{r echo=FALSE}
run(dmt01,adam_db=syn_data)
```

#### **2. Demographics and Baseline Characteristics without All Patients**
NOTE:   
1) This template *dmt01* include the column of total by default, use **lbl_overall=NULL** to surppress the default. 
```{r eval=FALSE}
run(dmt01,adam_db=syn_data,lbl_overall=NULL)
```
```{r echo=FALSE}
run(dmt01,adam_db=syn_data,lbl_overall=NULL)
```

#### **3. Demographics and Baseline Characteristics with an additional study specific continuous variable**
NOTE:  
1) To add or remove analysis items from *dmt01*, you need to list all variables you would like to include.  
2) CHEVRON performs the analysis based on the type of variable as defined in the input data.   
```{r eval=FALSE}
run(dmt01,adam_db = syn_data,summaryvars = c("AGE", "AGEGR1", "SEX", "ETHNIC", "RACE", "BBMISI"),lbl_overall=NULL)
```
```{r echo=FALSE}
run(dmt01,adam_db = syn_data,summaryvars = c("AGE", "AGEGR1", "SEX", "ETHNIC", "RACE", "BBMISI"),lbl_overall=NULL)
```

#### **4. Demographics and Baseline Characteristics with an additional study specific categorical variable**
```{r eval=FALSE}
syn_data$adsl <- syn_data$adsl %>%
  mutate(BBMIGR1 = case_when(BBMISI < 15 ~ "Very severely underweight",
                             BBMISI >= 15 & BBMISI < 16 ~ "Severely underweight",
                             BBMISI >= 16 & BBMISI <18.5 ~ "Underweight",
                             BBMISI >= 18.5 & BBMISI <25 ~ "Normal (healthy weight)",
                             BBMISI >= 25 & BBMISI <30 ~ "Overweight",
                             BBMISI >= 30 & BBMISI <35 ~ "Obese Class I (Moderately obese)",
                             BBMISI >= 35 & BBMISI <40 ~ "Obese Class II (Severely obese)",
                             BBMISI >= 40              ~ "Obese Class III (Very severely obese)")) %>%
  mutate(BBMIGR1 = factor(BBMIGR1,levels = c("Very severely underweight","Severely underweight","Underweight","Normal (healthy weight)","Overweight","Obese Class I (Moderately obese)","Obese Class II (Severely obese)","Obese Class III (Very severely obese)")))
run(dmt01,adam_db = syn_data,summaryvars = c("AGE", "AGEGR1", "SEX", "ETHNIC", "RACE", "BBMIGR1"))
```
```{r echo=FALSE}
syn_data$adsl <- syn_data$adsl %>%
  mutate(BBMIGR1 = case_when(BBMISI < 15 ~ "Very severely underweight",
                             BBMISI >= 15 & BBMISI < 16 ~ "Severely underweight",
                             BBMISI >= 16 & BBMISI <18.5 ~ "Underweight",
                             BBMISI >= 18.5 & BBMISI <25 ~ "Normal (healthy weight)",
                             BBMISI >= 25 & BBMISI <30 ~ "Overweight",
                             BBMISI >= 30 & BBMISI <35 ~ "Obese Class I (Moderately obese)",
                             BBMISI >= 35 & BBMISI <40 ~ "Obese Class II (Severely obese)",
                             BBMISI >= 40              ~ "Obese Class III (Very severely obese)")) %>%
  mutate(BBMIGR1 = factor(BBMIGR1,levels = c("Very severely underweight","Severely underweight","Underweight","Normal (healthy weight)","Overweight","Obese Class I (Moderately obese)","Obese Class II (Severely obese)","Obese Class III (Very severely obese)")))
run(dmt01,adam_db = syn_data,summaryvars = c("AGE", "AGEGR1", "SEX", "ETHNIC", "RACE", "BBMIGR1"))
```

#### **5. Demographics and Baseline Characteristics with additional vital signs baseline values from ADVS or ADSUB**
NOTE:
Manual preprocess of input *adsl* dataset is expected to merge the vital signs baseline values from *advs* (where ADVS.ABLFL=='Y']) or *adsub* with *adsl* by unique subject identifier.
```{r eval=FALSE}
diabpbl <- syn_data$advs %>%
  filter(ABLFL=='Y' & PARAMCD == 'DIABP') %>%
  mutate(DIABPBL = AVAL) %>%
  select('STUDYID','USUBJID','DIABPBL')
syn_data$adsl <- syn_data$adsl %>%
  left_join(diabpbl,by=c('STUDYID','USUBJID'))
run(dmt01,adam_db = syn_data,summaryvars = c("AGE", "AGEGR1", "SEX", "ETHNIC", "RACE", "DIABPBL"))
```
```{r echo=FALSE}
diabpbl <- syn_data$advs %>%
  filter(ABLFL=='Y' & PARAMCD == 'DIABP') %>%
  mutate(DIABPBL = AVAL) %>%
  select('STUDYID','USUBJID','DIABPBL')
syn_data$adsl <- syn_data$adsl %>%
  left_join(diabpbl,by=c('STUDYID','USUBJID'))
run(dmt01,adam_db = syn_data,summaryvars = c("AGE", "AGEGR1", "SEX", "ETHNIC", "RACE", "DIABPBL"))
```

### **Patient Disposition (DST01)**
#### [Link](https://pages.github.roche.com/MDIS/stream_doc/2_12/um/report_outputs_dst01.html) to STREAM v2.12 User manual of DST01 
#### *List of Examples:*
##### 1. Patient Disposition
##### 2. Patient Disposition (with grouping of reasons)
##### 3. Patient Disposition (adding end of treatment status)
##### 4. Patient Disposition (adding details of study ongoing status)

#### **1. Patient Disposition**
NOTE:  
1) This template *dst01* produces the standard patient disposition summary.  
2) It includes the column of total by default, use **lbl_overall=NULL** to suppress the default.   
```{r eval=FALSE}
run(dst01,adam_db=syn_data,lbl_overall=NULL)
```
```{r echo=FALSE}
run(dst01,adam_db=syn_data,lbl_overall=NULL)
```
#### **2. Patient Disposition (with grouping of reasons)**
NOTE:  
1) The syntax below produces the standard patient disposition summary with grouping of the discontinuation reasons.  
2) The variable [ADSL.DCSREASGP] that groups the discontinuation reasons needs to be derived manually and provided in the input *adsl* dataset.  
```{r eval=FALSE}
run(dst01,adam_db=syn_data,detail_vars = list(Discontinued = c("DCSREASGP", "DCSREAS")),lbl_overall=NULL)
```
```{r echo=FALSE}
run(dst01,adam_db=syn_data,detail_vars = list(Discontinued = c("DCSREASGP", "DCSREAS")),lbl_overall=NULL)
```

#### **3. Patient Disposition (adding end of treatment status)**
NOTE:  
The syntax below adds the end of treatment status to the standard patient disposition summary by specifying the end of treatment status variable in *trt_status_var*.  
```{r eval=FALSE}
run(dst01,adam_db=syn_data,trt_status_var="EOTSTT",lbl_overall=NULL)
```
```{r echo=FALSE}
run(dst01,adam_db=syn_data,trt_status_var="EOTSTT",lbl_overall=NULL)
```

#### **4. Patient Disposition (adding details of study ongoing status)**
NOTE: The syntax adds the details of study ongoing/alive status to the standard patient disposition summary by modifying *detail_vars*.
```{r eval=FALSE}
syn_data$adsl <- syn_data$adsl %>%
  mutate(STDONS = factor(case_when(EOTSTT == "ONGOING" & EOSSTT == "ONGOING" ~ "Alive: Ongoing",
                                   EOTSTT != "ONGOING" & EOSSTT == "ONGOING" ~ "Alive: In Follow-up",
                                  TRUE ~ NA_character_
                                  ),
                         levels = c("Alive: Ongoing", "Alive: In Follow-up")))
run(dst01, syn_data, detail_vars = list(Discontinued = "DCSREAS", Ongoing = "STDONS"))
```
```{r echo=FALSE}
syn_data$adsl <- syn_data$adsl %>%
  mutate(STDONS = factor(case_when(EOTSTT ==  "Ongoing Treatment" & EOSSTT == "Ongoing" ~ "Alive: Ongoing",
                                   EOTSTT !=  "Ongoing Treatment" & EOSSTT == "Ongoing" ~ "Alive: In Follow-up",
                                  TRUE ~ NA_character_
                                  ),
                         levels = c("Alive: Ongoing", "Alive: In Follow-up")))
run(dst01, syn_data, detail_vars = list(Discontinued = "DCSREAS", Ongoing = "STDONS"))
```

### **Deaths (DTHT01)**
#### [Link](https://pages.github.roche.com/MDIS/stream_doc/2_12/um/report_outputs_dtht01.html) to STREAM v2.12 User manual of DTHT01 
#### *List of Examples:*
##### 1. Deaths
##### 2. Deaths (adding "Primary Cause of Death" details for 'Other' category)
##### 3. Deaths (adding summary by days from last study drug administration)

#### **1. Deaths**
```{r eval=FALSE}
run(dst01,adam_db=syn_data)
```
```{r echo=FALSE}
run(dst01,adam_db=syn_data)
```

#### **2. Deaths (adding "Primary Cause of Death" details for 'Other' category)**
```{r eval=FALSE}
run(dtht01,adam_db=syn_data,other_category = TRUE)
```
```{r echo=FALSE}
run(dtht01,adam_db=syn_data,other_category = TRUE)
```
NOTE: In order to avoid the warning above and display 'Other' as the last category under "Primary Cause of Death" right above the detailed reasons for "Other", the user is expected to manually provide levels to ADSL.DTHCAT based on categories available in the dataset.

#### **3. Deaths (adding summary by days from last study drug administration)**
NOTE: Setting *time_since_last_dose* = TRUE, the syntax produces the count of deaths by days from last study drug administration as well as the count of deaths by primary cause and dyas from last study drug administration.
```{r eval=FALSE}
run(dtht01,adam_db=syn_data,time_since_last_dose=TRUE)
```
```{r echo=FALSE}
run(dtht01,adam_db=syn_data,time_since_last_dose=TRUE)
```

### **Study Drug Exposure (EXT01)**
#### [Link](https://pages.github.roche.com/MDIS/stream_doc/2_12/um/report_outputs_ext01.html) to STREAM v2.12 User manual of EXT01 
#### *List of Examples:*
##### 1. Study Drug Exposure
##### 2. Study Drug Exposure (with Optional Analyses) (not available?)
##### 3. Study Drug Exposure (with User Specified Categories for Missed Doses) (not available?)

#### **1. Study Drug Exposure**
NOTE:  
1) This template *ext01* displays total number of doses administered and total dose administered by default
2) This template *ext01* does not include the column of total by default
```{r eval=FALSE}
run(ext01,adam_db=syn_data)
```
```{r echo=FALSE}
run(ext01,adam_db=syn_data)
```

### **Concomitnant Medications by Medication Class and Preferred Name (CMT01A)**
#### [Link](https://pages.github.roche.com/MDIS/stream_doc/2_12/um/report_outputs_cmt01.html) to STREAM v2.12 User manual of CMT01A 
#### *List of Examples:*
##### 1. Concomitant Medications by Medication Class and Preferred Name
##### 2. Concomitant Medications by Medication Class and Preferred Name (changing ATC class level)
##### 3. Concomitant Medications by Medication Class and Preferred Name (classes sorted by frequency)
##### 4. Concomitant Medications by Medication Class and Preferred Name (total number of treatments per medication class suppressed)

#### **1. Concomitant Medications by Medication Class and Preferred Name**
NOTE:    
1) This template *cmt01a* displays concomitant medications by ATC Level 2 and Preferred Name by default.  
2) This template *cmt01a* does not include the column of total by default.  
3) This template *cmt01a* sort medication class and preferred name by alphabetical order by default.  
```{r eval=FALSE}
run(cmt01a,adam_db=syn_data)
```
```{r echo=FALSE}
run(cmt01a,adam_db=syn_data)
```

#### **2. Concomitant Medications by Medication Class and Preferred Name (changing ATC class level)**
```{r eval=FALSE}
run(cmt01a,adam_db=syn_data,row_split_var = "ATC1")
```
```{r echo=FALSE}
run(cmt01a,adam_db=syn_data,row_split_var = "ATC1")
```

#### **3. Concomitant Medications by Medication Class and Preferred Name (classes sorted by frequency)**
NOTE:
1) The option **sort_by_freq* = TRUE sort medication class by frequency.
```{r eval=FALSE}
run(cmt01a,adam_db=syn_data,sort_by_freq = TRUE)
```
```{r echo=FALSE}
run(cmt01a,adam_db=syn_data,sort_by_freq = TRUE)
```

#### **4. Concomitant Medications by Medication Class and Preferred Name (total number of treatments per medication class suppressed)**
NOTE:
1) This template *cmt01a* includes the analysis of 'total number of treatments' by default, use *incl_n_treatment* = FALSE to suppress.
```{r eval=FALSE}
run(cmt01a,adam_db=syn_data,incl_n_treatment = FALSE)
```
```{r echo=FALSE}
run(cmt01a,adam_db=syn_data,incl_n_treatment = FALSE)
```

### **Concomitnant Medications by Preferred Name (CMT02_PT)**
#### [Link](https://pages.github.roche.com/MDIS/stream_doc/2_12/um/report_outputs_cmt02_pt.html) to STREAM v2.12 User manual of CMT02_PT 
#### *List of Examples:*
##### 1. Concomitant Medications by Preferred Name

#### **1. Concomitant Medications by Preferred Name**
NOTE:    
1) This template *cmt02_pt* displays concomitant medications by Preferred Name by default.  
2) This template *cmt02_pt* does not include the column of total by default.  
3) This template *cmt02_pt* sort preferred name by alphabetical order by default. Set the option **sort_by_freq* = TRUE  to sort preferred names by frequency.  
```{r eval=FALSE}
run(cmt02_pt,adam_db=syn_data)
```
```{r echo=FALSE}
run(cmt02_pt,adam_db=syn_data)
```

### **Medical History (MHT01)**
#### [Link](https://pages.github.roche.com/MDIS/stream_doc/2_12/um/report_outputs_mht01.html) to STREAM v2.12 User manual of MHT01 
#### *List of Examples:*
##### 1. Medical History
##### 2. Medical History with total number of conditions suppressed (not available?)
##### 3. Medical History showing additional column 'All Patients'

#### **1. Medical History**
NOTE:    
1) This template *mht01* displays medical conditions by MedDRA system organ class and Preferred Name by default.    
2) The default treatment variable is *ADSL.ARM*.   
3) The user is expected to use filter to subset medical conditions prior to or on entering study.  
4) By default, the template produces the overall 'total number of conditions' as well as the 'total number of conditions' per body system after the summary of patients  
5）This template currently does not support sorting MedDRA system organ class and preferred names by order of frequency.
```{r eval=FALSE}
run(mht01,adam_db=syn_data)
```
```{r echo=FALSE}
run(mht01,adam_db=syn_data)
```

#### **3. Medical History showing additional column 'All Patients'**
```{r eval=FALSE}
run(mht01,adam_db=syn_data,lbl_overall= "All Patients")
```
```{r echo=FALSE}
run(mht01,adam_db=syn_data,lbl_overall= "All Patients")
```

### **Vital Signs (VST01)**
#### [Link](https://pages.github.roche.com/MDIS/stream_doc/2_12/um/report_outputs_mht01.html) to STREAM v2.12 User manual of MHT01 
#### *List of Examples:*
##### 1. Vital Sign Results and Change from Baseline by Visit
##### 2. Vital Sign Results and Change from Baseline by Visit (with change in precision)??

#### **1. Vital Sign Results and Change from Baseline by Visit**
```{r eval=FALSE}
run(vst01,adam_db=syn_data)
```
```{r echo=FALSE}
run(vst01,adam_db=syn_data)
```

### **Vital Signs Abnormalities (Regardless of Abnormality at Baseline) (VST02_1)**
#### [Link](https://pages.github.roche.com/MDIS/stream_doc/2_12/um/report_outputs_vst02_1.html) to STREAM v2.12 User manual of VST02_1
#### *List of Examples:*
##### 1. Vital Sign Abnormalities (Regardless of Abnormality at Baseline)

#### **1. Vital Sign Abnormalities (Regardless of Abnormality at Baseline)**
```{r eval=FALSE}
run(vst02_1,adam_db=syn_data)
```
```{r echo=FALSE}
run(vst02_1,adam_db=syn_data)
```

### **Vital Signs Abnormalities (Among Subject Without Abnormality at Baseline) (VST02_2)**
#### [Link](https://pages.github.roche.com/MDIS/stream_doc/2_12/um/report_outputs_vst02_2.html) to STREAM v2.12 User manual of VST02_2
#### *List of Examples:*
##### 1. Vital Sign Abnormalities (Among Subject Without Abnormality at Baseline)

#### **1. Vital Sign Abnormalities (Among Subject Without Abnormality at Baseline)**
```{r eval=FALSE}
run(vst02_2,adam_db=syn_data)
```
```{r echo=FALSE}
run(vst02_2,adam_db=syn_data)
```

### **Safety Summary (AET01)**
#### [Link](https://pages.github.roche.com/MDIS/stream_doc/2_12/um/report_outputs_aet01.html) to STREAM v2.12 User manual of AET01
#### *List of Examples:*
##### 1. Safety Summary
##### 2. Safety Summary with Modified Rows

#### **1. Safety Summary**
NOTE:
1) The template *aet01* produces the standard safety summary.
```{r eval=FALSE}
run(aet01,adam_db=syn_data)
```
```{r echo=FALSE}
run(aet01,adam_db=syn_data)
```

#### **2. Safety Summary with Modified Rows**
NOTE:  
1) Analyses under "Total number of patients with at least one" can be removed, added, or modified by editing the parameter *anl_vars*. The defined analyses currently include "FATAL", "SER", "SERWD", "SERDSM", "RELSER", "WD", "DSM", "REL", "RELWD", "RELDSM", "SEV". When modification is made, analyses must be all listed out in *anl_vars*. 
```{r eval=FALSE}
syn_data$adae <- syn_data$adae %>%
  mutate(RELCTC35 = with_label(.data$ATOXGR %in% c("3","4","5") & .data$AEREL == "Y","Related Grade 3-5"))
run(aet01,adam_db=syn_data,anl_vars = list(safety_var = c("FATAL","SER", "RELSER","RELCTC35")))
```
```{r echo=FALSE}
syn_data$adae <- syn_data$adae %>%
  mutate(RELCTC35 = with_label(.data$ATOXGR %in% c("3","4","5") & .data$AEREL == "Y","Related Grade 3-5"))
run(aet01,adam_db=syn_data,anl_vars = list(safety_var = c("FATAL","SER", "RELSER","RELCTC35")))
```

### **Safety Summary (Adverse Events of Special Interest) (AET01_AESI)**
#### [Link](https://pages.github.roche.com/MDIS/stream_doc/2_12/um/report_outputs_aet01_aesi.html) to STREAM v2.12 User manual of AET01_AESI
#### *List of Examples:*
##### 1. Safety Summary (Adverse Events of Special Interest)
##### 2. Safety Summary (Adverse Events of Special Interest) (optional lines)
##### 3. Safety Summary (Adverse Events of Special Interest) (for studies with multiple drugs)
##### 4. Safety Summary (Adverse Events of Special Interest) (by SMQ)

### **Adverse Events (AET02)**
#### [Link](https://pages.github.roche.com/MDIS/stream_doc/2_12/um/report_outputs_aet02.html) to STREAM v2.12 User manual of AET02
#### *List of Examples:*
##### 1. Adverse Events
##### 2. Adverse Events (with High-level Term)
##### 3. Adverse Events (Preferred Terms only)

#### **1. Adverse Events**
NOTE:
1) The template *aet02* produces the standard adverse event summary by MedDRA system organ class and preferred term.
2) The template does not include the column of total as default. The 'All Patients' column can be added by *lbl_overall = "All Patients"*.
3) Missing values in AEBODSYS, and AEDECOD are labeled by *⁠No Coding availabl.*
```{r eval=FALSE}
run(aet02,adam_db=syn_data)
```
```{r echo=FALSE}
run(aet02,adam_db=syn_data)
```

#### **2. Adverse Events (with High-level Term)**
NOTE:  
The syntax below displays adverse events by MedDRA system organ class, high-level term and preferred term.
```{r eval=FALSE}
run(aet02,adam_db=syn_data,row_split_var =c("AEBODSYS","AEHLT"))
```
```{r echo=FALSE}
run(aet02,adam_db=syn_data,row_split_var =c("AEBODSYS","AEHLT"))
```

#### **3. Adverse Events (Preferred Terms only)**
NOTE:  
The syntax below displays adverse events by preferred term only.
```{r eval=FALSE}
run(aet02,adam_db=syn_data,row_split_var =NULL)
```
```{r echo=FALSE}
run(aet02,adam_db=syn_data,row_split_var =NULL)
```

### **Adverse Events by Greatest Intensity(AET03)**
#### [Link](https://pages.github.roche.com/MDIS/stream_doc/2_12/um/report_outputs_aet03.html) to STREAM v2.12 User manual of AET03
#### *List of Examples:*
##### 1. Adverse Events by Greatest Intensity

#### **1. Adverse Events by Greatest Intensity**
Note:  
This template *aet03* produces the standard adverse event by greatest intensity summary
```{r eval=FALSE}
run(aet03,adam_db=syn_data)
```
```{r echo=FALSE}
run(aet03,adam_db=syn_data)
```

### **Adverse Events by Highest NCI CTCAE Grade (AET04)**
#### [Link](https://pages.github.roche.com/MDIS/stream_doc/2_12/um/report_outputs_aet04.html) to STREAM v2.12 User manual of AET04
#### *List of Examples:*
##### 1. Adverse Events by Highest NCI CTCAE Grade

#### **1. Adverse Events by Highest NCI CTCAE Grade**
Note:  
This template *aet04* produces the standard adverse event by highest NCI CTCAE grade summary
```{r eval=FALSE}
run(aet04,adam_db=syn_data)
```
```{r echo=FALSE}
run(aet04,adam_db=syn_data)
```
