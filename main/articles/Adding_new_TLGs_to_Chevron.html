<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="chevron">
<title>Adding new TLGs to Chevron • chevron</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Adding new TLGs to Chevron">
<meta property="og:description" content="chevron">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><link rel="stylesheet" href="../consent.css">
<script src="../consent.js" type="text/javascript" charset="utf-8"></script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">chevron</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0.9033</small>

    <div style="width: 140px; margin-left: 0.5rem;"> <small class="nav-text text-muted me-auto">part of</small> <img src="https://github.com/insightsengineering/hex-stickers/blob/main/PNG/nest.png?raw=true" alt="NEST" style="height: 30px;"><a href="https://pharmaverse.org/" class="external-link"><img src="https://github.com/insightsengineering/hex-stickers/blob/main/PNG/pharmaverse.png?raw=true" alt="pharmaverse" style="height: 28px;"></a> </div>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/chevron.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../articles/index.html">Articles</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/insightsengineering/chevron">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Adding new TLGs to Chevron</h1>
            
            <h4 data-toc-skip class="date">2022-10-11</h4>
      
      
      <div class="d-none name"><code>Adding_new_TLGs_to_Chevron.Rmd</code></div>
    </div>

    
    
<div class="section level3">
<h3 id="acknowledgments">Acknowledgments<a class="anchor" aria-label="anchor" href="#acknowledgments"></a>
</h3>
</div>
<div class="section level3">
<h3 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h3>
<p>The <code>chevron</code> package is a collection of function to
create standard tables, listings, and graphs for clinical trials
reporting. Here we present the logic to request new tables for the end
users and how to construct new table functions for the programmers. The
list of the already available functions is available <a href="https://glowing-giggle-c0c5190c.pages.github.io/reference/index.html" class="external-link">here</a>.
The naming convention for table functions is
<code>&lt;table name&gt;_&lt;design number&gt;</code>. ex:
<code>aet02_2</code>. The default design number is by convention the
number 1. Layouts are internal functions that determine the underlying
structure of a table. One table function is generally associated with
one layout function. The naming convention for layout is
<code>&lt;table name&gt;_&lt;design number&gt;_lyt</code>. ex:
<code>aet02_2_lyt</code>.</p>
</div>
<div class="section level3">
<h3 id="how-to-request-a-table">How to request a table<a class="anchor" aria-label="anchor" href="#how-to-request-a-table"></a>
</h3>
<p>In order to request a function that will generate a new table, please
create an issue in the “TLG (ordered priority)” of the <a href="https://github.com/orgs/insightsengineering/projects/34" class="external-link">chevron
backlog</a>. Private repositories on GitHub do not support issue
templates but you can use the format below to accurately describe your
requirements. Adding images of the required table (without confidential
information) is also very useful. Several designs of the same table can
be (should be) requested in a same issue.</p>
<blockquote>
<h2 id="ex-aet02">ex: <code>AET02</code>
</h2>
<h3 id="table-name">Table Name</h3>
<p>Standard name of the table. [see <code>GDSR</code> template] <em>ex.
<code>AET02</code></em></p>
<h3 id="url">URL</h3>
<p>Link to an external file describing the table</p>
<h3 id="description">Description</h3>
<p>Details on the generic purpose of the table <em>ex. This is an
adverse event table</em></p>
<h3 id="analysis-dataset">Analysis dataset</h3>
<p>Name of the standard dataset input <em>ex. <code>ADAE</code></em></p>
<h3 id="analysis-filtering">Analysis filtering</h3>
<p>Filtering criteria of the input <em>ex.
<code>ANL01FL = "Y"</code></em></p>
<h3 id="analysis-population">Analysis population</h3>
<p>The selected population, typically <code>SE</code>, <code>AP</code>
or <code>IT</code> <em>ex. <code>SE</code></em></p>
<h3 id="column-variable">Column Variable</h3>
<p>Names of the columns splitting variables in hierarchical order
<em>ex. <code>ACTARM</code></em></p>
<h3 id="analysis-variables">Analysis variables</h3>
<p>Names of the rows splitting variables in hierarchical order _ex.
<code>AEBODSYS</code>, <code>AEDECOD</code>, <code>ASEV_</code>
<em>ex.</em> _1. <code>AEBODSYS_</code> _2. <code>AEDECOD_</code> _3.
<code>ASEV_</code></p>
<h3 id="analysis-concept">Analysis concept</h3>
<p>Alternative table description for summary tables similar to
<code>AET01</code> <em>ex.</em> - <em><code>Serious AE</code></em> -
<em><code>Related AE</code></em> -
<em><code>Total number of AEs</code></em></p>
<h3 id="statistics">Statistics</h3>
<p>Description of the statistical procedure <em>ex. Frequency count and
% (based on N)</em></p>
<h3 id="default-treatment-of-zero-count-rows">Default treatment of zero
count rows</h3>
<p>Choose one option: - “Remove zero count rows by default” - “Keep zero
count rows by default” - “Always ask for user input” - “Not applicable /
Other”</p>
<h3 id="comments">Comments</h3>
<p><em>ex. Some additional details</em></p>
</blockquote>
</div>
<div class="section level3">
<h3 id="how-to-create-a-new-table-function-for-developers">How to create a new table function for developers<a class="anchor" aria-label="anchor" href="#how-to-create-a-new-table-function-for-developers"></a>
</h3>
<p>The current practice is to use the body of the table-creating
function to isolate the variable names that are used to construct the
table layout. The function then calls the corresponding layout function
to create the structure of the table. It then builds the table by
combining the clinical data and the layout. Finally, it modifies the
table based on the aggregated results, for instance removing the rows
with no counts, and returns the table.</p>
<div class="section level4">
<h4 id="data-preprocessing">Data preprocessing<a class="anchor" aria-label="anchor" href="#data-preprocessing"></a>
</h4>
<p>Data processing and standardization should be performed before
feeding the data to <code>chevron</code>. Beware of levels that are not
present in the test data but could appear in real datasets.</p>
</div>
<div class="section level4">
<h4 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a>
</h4>
<p>To enhance the reproducibility, it is advised to reduce the
parametrization of the table-constructing function. Some arguments are
specific to an entire study and used in multiple tables, for instance
the choice of the variable used to specify the arm of the study (should
it be <code>ARM</code> or <code>ACTARM</code>?). Such arguments should
be defined in the <code>.study</code> object, which is then passed to
the function. The list of argument accepted by the study object is
defined below. Other arguments are more specific to a particular table
(e.g Should zero count rows be removed?) and should be accessible to the
end-user insofar as it cannot compromise the accuracy of the report.
Appropriate default values should be provided.</p>
</div>
<div class="section level4">
<h4 id="the--study-object">The <code>.study</code> object<a class="anchor" aria-label="anchor" href="#the--study-object"></a>
</h4>
<p>The following variables are best hard coded in the table-generating
functions (with the possibility to the user to override some of these
choices.): - <code>evo_vars</code> (used in <code>LBT01</code>, which
variables capture status and the evolution of the analysis): generally
<code>c("AVAL", "CNG")</code> - <code>severity_grade</code> (internal,
used in <code>AET03</code>, capture the levels of severity of adverse
events): generally corresponds to the levels of <code>AESEV</code>in
<code>adae</code>. - <code>lbl_overall</code> (used everywhere, the
label associated with the overall column) - <code>reason</code> (used in
<code>DST01</code>, the name of the column specifying study withdrawal):
generally <code>DCSREAS</code>. - <code>status</code> (used in
<code>DST01</code>, the name of the column specifying study status):
generally: <code>EOSSTT</code>. - <code>summaryvars</code> (used in
<code>DMT01</code>, the list of variables to be summarized):</p>
<p>The <code>.study</code> object contains information relative to the
way the study is analyzed. - “Patient” or “Subject” (the designation of
the person depends on the study) - <code>armvar</code> (Randomized arm
variable): generally: <code>ARM</code>or <code>ACTARM</code>. - Actually
received variable - <code>format</code>: of percentages etc…</p>
</div>
<div class="section level4">
<h4 id="tests">Tests<a class="anchor" aria-label="anchor" href="#tests"></a>
</h4>
<p>TODO</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="nest">
  <p>chevron is a part of the <strong>NEST</strong> and <a href="https://pharmaverse.org/" class="external-link"><strong>pharmaverse</strong></a>.</p>
</div>
<script type="text/javascript" src="../analytics.js"></script></footer>
</div>

  

  

  </body>
</html>
